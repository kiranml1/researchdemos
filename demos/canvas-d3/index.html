<!DOCTYPE html>
<html>
<head>
	<title>Introduction D3 | Amruthaluri Kiran Kumar</title>
	<style>
	#wrapper {
		width:100%;
		height:768px;
	}
	svg {
		/*background-color: hsla(37, 100%, 45%, 0.95);*/
		width:100%;
		height:100%;
	}
	body {
		margin: 0;
		padding: 0;
		overflow: hidden;
	}
	circle {
	  fill: none;
	  stroke-width: 1.5px;
	}
	</style>
</head>
<body>
    <div id='wrapper'></div>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="buzz.min.js"></script>
	<script>
		function move(p) {
		  return [" M", p.x, p.y].join(" ");
		}

		function lineSeg(p) {
		  return [" L", p.x, p.y].join(" ");
		}

		function arcSeg(p) {
		  //A r r rotation large-arc sweep x y
		  return [" A", p.r, p.r, p.rot, p.c, p.d, p.x, p.y].join(" ");
		}

		function bezSeg(p) {
		  //x1,y1 and x2,y2 are control points
		  return [" C", p.x1, p.y1, p.x2, p.y2, p.x, p.y].join(" ");
		}
		function smoothSeg(p) {
		  //x2,y2 is the control point
		  return [" S", p.x2, p.y2, p.x, p.y].join(" ");
		}

		function qbezSeg(p) {
		  //x1 y1 x y
		  return [" Q", p.x1, p.y1, p.x, p.y].join(" ");
		}
		function qsmoothSeg(p) {
		  //x y
		  return [" T", p.x, p.y].join(" ");
		}


		var pathD = move({x: 141, y: 79})
		    + lineSeg({x: 208, y: 80})
		    + lineSeg({x: 206, y: 236})
			+ lineSeg({x: 173, y: 263});

		var pathK =  move({x: 207, y: 79})
		    + lineSeg({x: 209, y: 80})
		    + lineSeg({x: 206, y: 210})
			+ lineSeg({x: 204, y: 263})
			+ lineSeg({x: 218, y: 150})
            + lineSeg({x: 282, y: 77})
			+ lineSeg({x: 213, y: 155})
            + lineSeg({x: 292, y: 265});

		var pathE = move({x: 262, y: 82})
			+ lineSeg({x: 319, y: 85})
		    + lineSeg({x: 265, y: 85})
			+ lineSeg({x: 259, y: 85})
		    + lineSeg({x: 253, y: 217})
			+ lineSeg({x: 321, y: 214})
			+ lineSeg({x: 248, y: 214})
			+ lineSeg({x: 262, y: 135})
			+ lineSeg({x: 294, y: 135});

		var pathF = move({x: 262, y: 82})
			+ lineSeg({x: 319, y: 85})
		    + lineSeg({x: 265, y: 85})
			+ lineSeg({x: 259, y: 85})
		    + lineSeg({x: 253, y: 217})
			+ lineSeg({x: 262, y: 135})
			+ lineSeg({x: 321, y: 135});

		var pathG = move({x: 262, y: 82})
			+ lineSeg({x: 319, y: 85})
		    + lineSeg({x: 265, y: 85})
			+ lineSeg({x: 259, y: 85})
		    + lineSeg({x: 253, y: 217})
			+ lineSeg({x: 321, y: 214})
			+ lineSeg({x: 248, y: 214})
			+ lineSeg({x: 262, y: 135})
			+ lineSeg({x: 294, y: 135});

		var pathH = move({x: 262, y: 82})
			+ lineSeg({x: 296, y: 149})
		    + lineSeg({x: 329, y: 80})
			+ lineSeg({x: 260, y: 215})
			+ lineSeg({x: 291, y: 150})
			+ lineSeg({x: 326, y: 246})
		    
		back = d3.scale.linear().domain([0,3]).range(['hsla(69, 100%, 36%, 1)','hsla(37, 100%, 45%, 0.95)']);

		var svg = d3.select("#wrapper").append('svg').append('g').attr({'transform':'translate('+250+','+100+')'});

		d3.select('svg').data([0,1,2,3]).style('background-color',function(d,i){ return back(i); });

		var subtext = svg.append("text")
			.attr({'transform':'translate('+350+','+300+')'})
			.style('font-size','28px')
		  	.text('by KiRaN kuMaR - Coming in December 2013');

		  	svg.append("text")
			.attr({'transform':'translate('+350+','+330+')'})
			.style('font-size','18px')
		  	.text('follow me by a right click');

		  	d3.select('body').on('contextmenu',function(){
		  		window.location = "http://kiranml1.github.io/";
		  	});

		var j = svg.append("path")
		  .attr("d", pathD)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var k = svg.append("path")
		  .attr('transform','translate(50)')
		  .attr("d", pathK)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var e1 = svg.append("path")
		  .attr('transform','translate(100)')
		  .attr("d", pathE)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var f = svg.append("path")
		  .attr('transform','translate(200)')
		  .attr("d", pathF)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var e2 = svg.append("path")
		  .attr('transform','translate(300)')
		  .attr("d", pathG)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var x = svg.append("path")
		  .attr('transform','translate(400)')
		  .attr("d", pathH)
		  .style({
		    fill: "none",
		    stroke: "#000000",
		    "stroke-width": 12,
		    "stroke-linecap": "round",
		    "stroke-linejoin": "round"
		  })

		var len = j.node().getTotalLength();
        var offset = 0;

        j.attr({
          "stroke-dasharray": j.node().getTotalLength() + " " + j.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

        k.attr({
          "stroke-dasharray": k.node().getTotalLength() + " " + k.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

        e1.attr({
          "stroke-dasharray": e1.node().getTotalLength() + " " + e1.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

        f.attr({
          "stroke-dasharray": f.node().getTotalLength() + " " + f.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

        e2.attr({
          "stroke-dasharray": e2.node().getTotalLength() + " " + e2.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

        x.attr({
          "stroke-dasharray": x.node().getTotalLength() + " " + x.node().getTotalLength(),
          "stroke-dashoffset": offset
        });

		var z = d3.scale.linear().domain([0,1400]).range(['#000','#000']),i = 0 ;

		var svgp = d3.select('svg')
		    .style("pointer-events", "all")
		    .on("mousemove", particle);

		function particle() {
		  var m = d3.mouse(this);

		  svgp.append("svg:circle")
		      .attr("cx", m[0])
		      .attr("cy", m[1])
		      .attr("r", 1e-6)
		      .style("stroke", z(++i))
		      .style("stroke-opacity", 1)
		    .transition()
		      .duration(2000)
		      .ease(Math.sqrt)
		      .attr("r", 100)
		      .style("stroke-opacity", 1e-6)
		      .remove();
		}


            j.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return j.node().getTotalLength()*(1-t);
              }
            })

            k.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return k.node().getTotalLength()*(1-t);
              }
            })

            e1.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return e1.node().getTotalLength()*(1-t);
              }
            })

            f.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return f.node().getTotalLength()*(1-t);
              }
            })

            e2.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return e2.node().getTotalLength()*(1-t);
              }
            })

            x.transition()
            .duration(5044)
            .ease("linear")
            .attrTween('stroke-dashoffset',function(d,i){
              return function(t){
              return x.node().getTotalLength()*(1-t);
              }
            })
	</script>
	<script>
		var mySound = new buzz.sound( "mydecember", {
				    formats: [ "mp3","ogg"]
				});
		mySound.play();
	</script>
</body>
</html>